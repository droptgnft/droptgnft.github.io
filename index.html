<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Real Telegram + TON Connect</title>
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body style="font-family: sans-serif; text-align: center; padding: 50px;">

  <!-- üîµ Telegram Connect Real Button -->
  <h2>üîµ Connect Telegram (Real)</h2>
  <script async src="https://telegram.org/js/telegram-widget.js?22"
    data-telegram-login="DropNFTs_bot"
    data-size="large"
    data-radius="10"
    data-auth-url="https://droptgnft.github.io/auth.html"
    data-request-access="write">
  </script>

  <br><br>

  <!-- üü° TON Connect -->
  <h2>üü° Connect TON Wallet</h2>
  <div id="ton-connect-button"></div>

  <button onclick="sendTestTon()" style="padding: 10px 20px; font-size: 16px; margin-top: 10px;">
    üöÄ Send 1 TON (Testnet)
  </button>

  <script>
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
      manifestUrl: "https://droptgnft.github.io/tonconnect-manifest.json", // ‚úÖ Replace this if needed
      buttonRootId: "ton-connect-button"
    });

    async function sendTestTon() {
      const connected = await tonConnectUI.connected;
      if (!connected) {
        alert("‚ö†Ô∏è Please connect your TON wallet first.");
        return;
      }

      const tx = {
        validUntil: Math.floor(Date.now() / 1000) + 600,
        messages: [
          {
            address: "EQDXXXXXXXXXXXXXXXXXXXXXXXXXXXX",  // ‚úÖ Replace with your test address
            amount: "1000000000"
          }
        ]
      };

      try {
        const result = await tonConnectUI.sendTransaction(tx);
        console.log("‚úÖ Transaction Sent:", result);
        alert("‚úÖ 1 TON Testnet Sent!");
      } catch (error) {
        console.error("‚ùå Error:", error);
        alert("‚ùå Transaction Failed!");
      }
    }
  </script>

</body>
</html>
